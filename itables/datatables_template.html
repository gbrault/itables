<table id="table_id"><thead><tr><th>A</th></tr></thead></table>
<style>
    table td {
        text-overflow: ellipsis;
        overflow: hidden;
    }
</style>
<style>
    table th {
        text-overflow: ellipsis;
        overflow: hidden;
    }
</style>
<script type="module">
    // This function adds the datatables CSS to the HTML header
    const loadStyle = (url) => {
        let style;
        const styles = Array.from(document.head.querySelectorAll('link'));
        const existingStyle = styles.find((style) => style.href === url);
        if (!existingStyle) {
            style = document.createElement('link');
            style.rel = 'stylesheet';
            style.type = 'text/css';
            style.href = url;
            document.head.appendChild(style);
        }
    };

    const url_is_available = (url) => {
        let ok = false;
        fetch(url).then(function (response) {
            if (response.ok) {
                ok = true;
            }
        })
            .catch(function (error) {
            });
        return ok
    };

    const static_css = "/static/itables/datatables.net-dt/css/jquery.dataTables.min.css";

    let css_url;
    let jQuery_url;
    let datatables_url;

    if (false) //url_is_available(static_css))
    {
        css_url = static_css;
        jQuery_url = '/static/itables/jquery/dist/jquery.js';
        datatables_url = '/static/itables/datatables.net/js/jquery.dataTables.min.mjs';
    }
    else {
        css_url = "https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css";
        jQuery_url = 'https://code.jquery.com/jquery-3.5.1.min.js';
        datatables_url = 'https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.mjs';
    }

    loadStyle(css_url);
    const { default: $ } = await import(jQuery_url);
    const { default: initDataTables } = await import(datatables_url);

    // Define the table data
    const data = [];

    // Define the dt_args
    let dt_args = {};
    dt_args["data"] = data;

    // Display the table
    $(document).ready(function () {
        $('#table_id').DataTable(dt_args);
    });
</script>
